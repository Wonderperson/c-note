---


---

<h1 id="c类的定义">C++类的定义</h1>
<p>类只是一个模板（Template），编译后不占用内存空间，所以在定义类时不能对成员变量进行初始化，因为没有地方存储数据。只有在创建对象以后才会给成员变量分配内存，这个时候就可以赋值了。</p>
<h1 id="额外补充">额外补充</h1>
<p><strong>栈区（stack）</strong>— 由编译器自动分配释放 ，存放函数的参数值，局部变量的值等。其操作方式类似于数据结构中的栈。<br>
<strong>堆区（heap）</strong> — 一般由程序员分配释放， 若程序员不释放，程序结束时可能由OS回收 。</p>
<h2 id="区别和联系：">区别和联系：</h2>
<ol>
<li>申请方式</li>
</ol>
<ul>
<li>堆是由程序员自己申请并指明大小，在c中malloc函数 如p1 = (char *)malloc(10);</li>
<li>栈由系统自动分配，如声明在函数中一个局部变量 int b; 系统自动在栈中为b开辟空间</li>
</ul>
<ol start="2">
<li>申请后系统的响应</li>
</ol>
<ul>
<li>栈：只要栈的剩余空间大于所申请空间，系统将为程序提供内存，否则将报异常提示栈溢出。</li>
<li>堆：首先应该知道操作系统有一个记录空闲内存地址的链表，当系统收到程序的申请时，会 遍历该链表，寻找第一个空间大于所申请空间的堆结点，然后将该结点从空闲结点链表中删除，并将该结点的空间分配给程序，另外，对于大多数系统，会在这块内 存空间中的首地址处记录本次分配的大小，这样，代码中的delete语句才能正确的释放本内存空间。另外，由于找到的堆结点的大小不一定正好等于申请的大 小，系统会自动的将多余的那部分重新放入空闲链表中。<br>
选自知乎：<br>
[<a href="https://www.zhihu.com/question/19729973/answer/13037929">https://www.zhihu.com/question/19729973/answer/13037929</a>]</li>
</ul>

